/* Theme-aware overrides for react-phone-input-2 */

.react-tel-input .form-control {
  background-color: hsl(var(--muted) / 0.2) !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--border) / 0.3) !important;
  height: 44px !important;
  padding-left: 3rem !important; /* space for flag */
}

.react-tel-input .flag-dropdown {
  background-color: hsl(var(--muted) / 0.2) !important;
  border: 1px solid hsl(var(--border) / 0.3) !important;
}

.react-tel-input .selected-flag {
  background: transparent !important;
}

.react-tel-input .country-list {
  background-color: hsl(var(--popover)) !important;
  color: hsl(var(--popover-foreground)) !important;
  border: 1px solid hsl(var(--border) / 0.3) !important;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
}

.react-tel-input .country-list .search-box {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--border) / 0.5) !important;
  caret-color: hsl(var(--foreground)) !important;
}
.react-tel-input .country-list .search-box:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2) !important;
  border-color: hsl(var(--primary)) !important;
}

.react-tel-input .country-list .country {
  color: hsl(var(--popover-foreground)) !important;
}

.react-tel-input .country-list .country:hover,
.react-tel-input .country-list .country.highlight {
  background-color: hsl(var(--muted) / 0.3) !important;
}

.react-tel-input .country-list .country .country-name {
  color: inherit !important;
}

.react-tel-input .country-list .dial-code {
  color: hsl(var(--muted-foreground)) !important;
}

/* Additional fixes for lingering white colors */
.react-tel-input .country-list .search-box::placeholder {
  color: hsl(var(--muted-foreground)) !important;
  opacity: 1 !important;
}

.react-tel-input .selected-flag .arrow {
  border-top-color: hsl(var(--foreground)) !important; /* caret color */
}

.react-tel-input .country-list .country {
  background: transparent !important;
}

.react-tel-input .country-list .country:hover .country-name,
.react-tel-input .country-list .country.highlight .country-name {
  color: hsl(var(--popover-foreground)) !important;
}

.react-tel-input .country-list .country:hover .dial-code,
.react-tel-input .country-list .country.highlight .dial-code {
  color: hsl(var(--muted-foreground)) !important;
}

/* Improve scrollbars in dropdown for dark themes */
.react-tel-input .country-list::-webkit-scrollbar {
  width: 10px;
}
.react-tel-input .country-list::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.2);
}
.react-tel-input .country-list::-webkit-scrollbar-thumb {
  background-color: hsl(var(--border));
  border-radius: 9999px;
  border: 2px solid hsl(var(--muted) / 0.2);
}
/* Firefox */
.react-tel-input .country-list {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--border)) hsl(var(--muted) / 0.2);
}
